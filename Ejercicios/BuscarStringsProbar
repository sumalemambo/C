#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main(){

    int contador,aux;
    FILE *fp;
    fp=fopen("S.txt","r");

    if(fp==NULL){
        printf("Error al abrir el archivo\n");
        exit(1);
    }

    char **p=(char**)malloc(sizeof(char*)*10000000),c[201];

    while(fgets(c,201,fp)!=NULL){

        p[contador]=(char*)malloc(sizeof(char)*201);
        strcpy(p[contador],c);// c[0]
        aux=strlen(p[contador]);
        p[contador]=(char*)realloc(p[contador],aux*sizeof(char));
        contador+=1;
    }

    p=(char**)realloc(p,(contador+1)*sizeof(char*));
    fclose(fp);

    fp=fopen("P.txt","r");

    for(int i;  i < contador ;i++){
        free((void*)p[i]);
    }
    fclose(fp);
    free((void*)p);
    return 0;
}

///////////////////////////////////////////

#include <stdio.h>

int main(){

    FILE *fp = fopen("S.txt","r");
    char **arreglo = (char**)malloc(sizeof(char*)*1000000);
    char *cadena = (char *)malloc(sizeof(char)*201);
    int i = 0, largo;
    
    if(fp == NULL){
        printf("Error al abrir el archivo\n");
        exit(1);
    }
    while(fgets(cadena, 201, fp) != NULL){
        printf("%s\n",cadena);
        arreglo[i] = (char*)malloc(sizeof(char)*201);
        largo = strlen(cadena);
        arreglo[i]= (char*)realloc(arreglo[i],largo*sizeof(char));
        strcpy(arreglo[i],cadena);
        i++;
    }

    puts("AHORA VAMOS A LEER EL ARREGLO");
    for (int b = 0; b < i; b++)
    {
        printf("%s\n", arreglo[b]);
        free((void*)arreglo[b]);
    }

    free((void*)cadena);
    fclose(fp);
    return 0;
}

